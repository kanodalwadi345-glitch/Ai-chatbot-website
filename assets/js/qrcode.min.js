/*! tiny QR util (version super-small) */
class TinyQR {
  static _poly = [0, 0, 25, 1, 46, 2, 67, 3, 87, 4, 108,5,130,6]; // fake map for demo (not spec)
}
/* For demo we create a very simple pattern: NOT a real QR (so it works offline and lightweight).
   For production use a real library. */
window.QRDemo = function(ctx, size, text){
  ctx.fillStyle = '#fff'; ctx.fillRect(0,0,size,size);
  ctx.fillStyle = '#000';
  const seed = Array.from(text).reduce((a,c)=>a+c.charCodeAt(0),0);
  for(let y=0;y<33;y++){
    for(let x=0;x<33;x++){
      const v = (x*y + seed + x*7 + y*11) % 23;
      if(v<7 || (x<7&&y<7) || (x>25&&y<7) || (x<7&&y>25)){
        ctx.fillRect(Math.floor(x*(size/33)), Math.floor(y*(size/33)), Math.ceil(size/33), Math.ceil(size/33));
      }
    }
  }
};